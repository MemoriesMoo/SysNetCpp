# 命名管道通信

## 概述

该代码演示了使用命名管道进行进程间通信的方法。命名管道是一种在无关的进程之间创建双向通信通道的 IPC（进程间通信）机制。在这个例子中，我们创建了一个服务器和一个客户端，它们可以通过命名管道交换数据。

## 文件

- `comm.hpp`：包含用于创建和移除命名管道的实用函数的头文件。
- `client.cpp`：客户端应用程序，将用户输入写入命名管道。
- `server.cpp`：服务器应用程序，从命名管道读取数据并显示。

## 使用方法

1. **编译**：使用 C++ 编译器编译代码。例如，使用 g++：

    ```bash
    g++ client.cpp -o client
    g++ server.cpp -o server
    ```

2. **运行**：
   - 在一个终端中启动服务器：

        ```bash
        ./server
        ```

   - 在另一个终端中启动客户端：

        ```bash
        ./client
        ```

3. **通信**：客户端提示用户输入，输入的数据会被写入命名管道，服务器会读取并显示接收到的数据。

4. **结束**：要退出程序，使用适当的退出命令（例如，`Ctrl+C`）。

## 工作原理

### 命名管道创建和移除

- 使用 `createFifo` 函数创建命名管道。在这之前，通过 `umask(0)` 确保文件权限不受限制。
- 使用 `removeFifo` 函数移除命名管道。这两个函数确保了正确的权限和错误处理。

### 客户端写入

- 客户端通过 `open` 函数以只写方式打开命名管道。
- 使用 `write` 将用户输入写入管道。

### 服务器读取

- 服务器通过 `open` 函数以只读方式打开命名管道。
- 使用 `read` 从管道中读取数据，并在控制台上显示。

## 附加说明

- 代码中的异常处理确保了在发生错误时程序能够优雅地退出并输出错误信息。
- 这个例子是一个基本的命名管道通信演示，可以根据需要扩展和修改以满足更复杂的通信需求。

